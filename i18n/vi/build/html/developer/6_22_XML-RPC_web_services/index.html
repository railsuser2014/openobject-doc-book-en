


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>XML-RPC Web services &mdash; Documentation</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="Documentation" href="../../index.html" />
    <link rel="up" title="Developer Book" href="../index.html" />
    <link rel="next" title="RAD Tools" href="../7_23_RAD_tools/index.html" />
    <link rel="prev" title="Working with Web Services" href="../6_21_web_services/index.html" />
<script src="../../_static/tiny_js_kit_comment_control.js" type="text/javascript"></script>



 

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="../7_23_RAD_tools/index.html" title="RAD Tools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../6_21_web_services/index.html" title="Working with Web Services"
             accesskey="P">previous</a> |</li>

          <li><a href="../index.html" accesskey="U">Developer Book</a> &raquo;</li> 
      </ul>
    </div>
  <div class="openobject-header">
    <table cellspacing="0" cellpadding="0" border="0" width="1004">
      <tbody>
        <tr>
           <td width="202" class="headerpic">
            <a alt="Open Object - Free Management Solution Logo" href="http://openerp.com">
              <img border="0" src="../../_static/openerp.jpg"/>
            </a>
          </td>
         <td width="335" class="headerpic">
            <div align="right"><img src="../../_static/headerpic.jpg" width="242" height="68" /></div>
          </td>
          <td width="440" valign="top" align="right">
            <table id="Table_01" height="37" border="0" cellpadding="0" cellspacing="0">
              <tr>
                <td class="greycurveleft" width="23px" height="37px"></td>
                <td width="107" class="headerlinkgrey">
                  <div class="headerlink" align="center"><a href="http://openerp.com"><strong>OpenERP</strong></a></div>
                </td>
                <td width="22px" height="37px" class="greyredcurve"></td>
                <td width="125" height="37" class="redline">
                  <div class="headerlink" align="center"><a href="http://ondemand.openerp.com"><strong>OnDemand</strong></a></div>
                </td>
                <td width="20" height="37" class="redcurve">&nbsp;</td>
                <td width="139" height="37" class="redline">
                  <div class="headerlink" align="center"><a href="http://openobject.com"><strong>Community</strong></a></div>
                </td>
                <td width="16" height="37"><img src="../../_static/curve.gif"/></td>
              </tr>
            </table>
            <p class="fortune">Best-selling book on enterprise management</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="openobject-navbar">
    <table width="1004" border="0" cellspacing="0" cellpadding="0" id="menu-header">
      <tr>
        <td width="230" id="menu-header" nowrap="nowrap">&nbsp;</td>
        <td id="menu-breadcrumb" nowrap="nowrap">
          
    <div class="related-tiny">
      <h3>Navigation</h3>
      <ul>
        <li class="right">
          <select id="comments_control">
            <option value="">comments control</option>
            <option value="HIDE">hide</option>
            <option value="SHOW">show</option>
          </select>
        </li>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="../7_23_RAD_tools/index.html" title="RAD Tools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../6_21_web_services/index.html" title="Working with Web Services"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Documentation</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Developer Book</a> &raquo;</li> 
      </ul>
    </div>

        </td>
      </tr>
    </table>
  </div>


      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">XML-RPC Web services</a><ul>
<li><a class="reference external" href="#interfaces">Interfaces</a><ul>
<li><a class="reference external" href="#xml-rpc">XML-RPC</a><ul>
<li><a class="reference external" href="#xml-rpc-architecture">XML-RPC Architecture</a></li>
<li><a class="reference external" href="#architecture">Architecture</a></li>
</ul>
</li>
<li><a class="reference external" href="#python">Python</a><ul>
<li><a class="reference external" href="#access-tiny-server-using-xml-rpc">Access tiny-server using xml-rpc</a><ul>
<li><a class="reference external" href="#demo-script">Demo script</a></li>
</ul>
</li>
<li><a class="reference external" href="#import-xmlrpclib">import xmlrpclib</a></li>
</ul>
</li>
<li><a class="reference external" href="#php">PHP</a><ul>
<li><a class="reference external" href="#access-open-server-using-xml-rpc">Access Open-server using xml-rpc</a></li>
</ul>
</li>
<li><a class="reference external" href="#java">JAVA</a><ul>
<li><a class="reference external" href="#id1">Access Open-server using xml-rpc</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference external" href="#python-example">Python Example</a></li>
<li><a class="reference external" href="#php-example">PHP Example</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="../6_21_web_services/index.html"
                                  title="previous chapter">Working with Web Services</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../7_23_RAD_tools/index.html"
                                  title="next chapter">RAD Tools</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/developer/6_22_XML-RPC_web_services/index.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
<div id="searchbox">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<h3>Open ERP Books</h3><br />
<table cellpading="10px" cellspacing="10px" style="border: 1px solid #98DBCC;" align="center" bgcolor="#FFFFFF">
  <tr>
   <td align="center">
   <span style="text-align:center;">
<iframe src="http://rcm-fr.amazon.fr/e/cm?t=fabsblo-21&o=8&p=8&l=as1&asins=2212122616&fc1=000000&IS2=
1&lt1=_blank&lc1=0000FF&bc1=FFFFFF&bg1=FFFFFF&f=ifr&npa=1" style="width:120px;height:240px;text-align:center;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</span>
   </td>
  </tr>
  <tr> 
  <td align="center">
<a href="http://www.openerp.com/buy.html?page=shop.product_details&amp;flypage=openerp.tpl&amp;product_id=36&amp;category_id=8" title="Open ERP for Retail and Industrial Management" style="border:none;"><img src="http://www.openerp.com/components/com_virtuemart/shop_image/product/Open_ERP_for_Ret_4a1a9e3e3dec5.png" width="100px" height="134px" style="border:none; text-align:center;"></a>
<p style="font-size:10px;">Retail and Industrial Management, steps towards Sales, Logistics and Manufacturing Integration in the Open Source & Management Collection.</p>
</span>
</td>
</tr>
</table>

        </div>
      </div>


    <div class="document">
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="xml-rpc-web-services">
<h1>XML-RPC Web services<a class="headerlink" href="#xml-rpc-web-services" title="Permalink to this headline">¶</a></h1>
<p>Jump to: navigation, search</p>
<p>XML-RPC is known as a web service. Web services are a set of tools that let one build distributed applications on top of existing web infrastructures. These applications use the Web as a kind of &#8220;transport layer&#8221; but don&#8217;t offer a direct human interface via the browser.[1] Extensible Markup Language (XML) provides a vocabulary for describing Remote Procedure Calls (RPC), which is then transmitted between computers using the HyperText Transfer Protocol (HTTP). Effectively, RPC gives developers a mechanism for defining interfaces that can be called over a network. These interfaces can be as simple as a single function call or as complex as a large API.</p>
<p>XML-RPC therefore allows two or more computers running different operating systems and programs written in different languages to share processing. For example, a Java application could talk with a Perl program, which in turn talks with Python application that talks with ASP, and so on. System integrators often build custom connections between different systems, creating their own formats and protocols to make communications possible, but one can often end up with a large number of poorly documented single-use protocols. The RPC approach spares programmers the trouble of having to learn about underlying protocols, networking, and various implementation details.</p>
<p>XML-RPC can be used with Python, Java, Perl, PHP, C, C++, Ruby, Microsoft’s .NET and many other programming languages. Implementations are widely available for platforms such as Unix, Linux, Windows and the Macintosh.</p>
<p>An XML-RPC call is conducted between two parties: the client (the calling process) and the server (the called process). A server is made available at a particular URL (such as <a class="reference external" href="http://example.org:8080/rpcserv/">http://example.org:8080/rpcserv/</a>).</p>
<p>The above text just touches the surface of XML-RPC. I recommend O&#8217;Reilly&#8217;s &#8220;Programming Web Service with XML-RPC&#8221; for further reading. One may also wish to review the following links:</p>
<p>XML-RPC Home Page\ XML-RPC for C and C++\ The Apache XML-RPC Project\ Expat: The XML Parser\</p>
<div class="section" id="interfaces">
<h2>Interfaces<a class="headerlink" href="#interfaces" title="Permalink to this headline">¶</a></h2>
<div class="js-kit-comments" path="/interfaces" ></div><div class="section" id="xml-rpc">
<h3>XML-RPC<a class="headerlink" href="#xml-rpc" title="Permalink to this headline">¶</a></h3>
<div class="section" id="xml-rpc-architecture">
<h4>XML-RPC Architecture<a class="headerlink" href="#xml-rpc-architecture" title="Permalink to this headline">¶</a></h4>
<p>Open ERP is a based on a client/server architecture. The server and the client(s) communicate using the XML-RPC protocol. XML-RPC is a very simple protocol which allows the client to do remote procedure calls. The called function, its arguments, and the result of the call are transported using HTTP and encoded using XML. For more information on XML-RPC, please see: <a class="reference external" href="http://www.xml-rpc.com">http://www.xml-rpc.com</a>.</p>
</div>
<div class="section" id="architecture">
<h4>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h4>
<p>The diagram below synthesizes the client server architecture of Open ERP. Open ERP server and Open ERP clients communicate using XML-RPC.</p>
<div align="center" class="figure">
<a class="reference external image-reference" href="../../_images/tech_arch.png"><img alt="../../_images/tech_arch.png" src="../../_images/tech_arch.png" style="width: 595.0px; height: 340.85px;" /></a>
</div>
<p><strong>Client</strong></p>
<p>The logic of Open ERP is configured on the server side. The client is very simple; it is only used to post data (forms, lists, trees) and to send back the result to the server. The updates and the addition of new functionality don&#8217;t need the clients to be frequently upgraded. This makes Open ERP easier to maintain.</p>
<p>The client doesn&#8217;t understand what it posts. Even actions like &#8216;Click on the print icon&#8217; are sent to the server to ask how to react.</p>
<p>The client operation is very simple; when a user makes an action (save a form, open a menu, print, ...) it sends this action to the server. The server then sends the new action to execute to the client.</p>
<p>There are three types of action;</p>
</div>
</div>
<div class="section" id="python">
<h3>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<div class="section" id="access-tiny-server-using-xml-rpc">
<h4>Access tiny-server using xml-rpc<a class="headerlink" href="#access-tiny-server-using-xml-rpc" title="Permalink to this headline">¶</a></h4>
<div class="section" id="demo-script">
<h5>Demo script<a class="headerlink" href="#demo-script" title="Permalink to this headline">¶</a></h5>
</div>
</div>
<div class="section" id="import-xmlrpclib">
<h4>import xmlrpclib<a class="headerlink" href="#import-xmlrpclib" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="n">username</span> <span class="o">=</span> <span class="s">&#39;admin&#39;</span> <span class="c">#the user</span>
<span class="n">pwd</span> <span class="o">=</span> <span class="s">&#39;admin&#39;</span>      <span class="c">#the password of the user</span>
<span class="n">dbname</span> <span class="o">=</span> <span class="s">&#39;terp&#39;</span>    <span class="c">#the database</span>
</pre></div>
</div>
<ul>
<li><p class="first"><strong>Search a partner</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">args</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;vat&#39;</span><span class="p">,</span> <span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="s">&#39;ZZZZZZ&#39;</span><span class="p">)]</span> <span class="c">#query clause</span>
<span class="n">ids</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="s">&#39;res.partner&#39;</span><span class="p">,</span> <span class="s">&#39;search&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>Read partner data</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="s">&#39;active&#39;</span><span class="p">,</span> <span class="s">&#39;vat&#39;</span><span class="p">,</span> <span class="s">&#39;ref&#39;</span><span class="p">]</span> <span class="c">#fields to read</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="s">&#39;res.partner&#39;</span><span class="p">,</span> <span class="s">&#39;read&#39;</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">fields</span><span class="p">)</span> <span class="c">#ids is a list of id</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>Update partner data</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">values</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;vat&#39;</span><span class="p">:</span> <span class="s">&#39;ZZ1ZZZ&#39;</span><span class="p">}</span> <span class="c">#data to update</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="s">&#39;res.partner&#39;</span><span class="p">,</span> <span class="s">&#39;write&#39;</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>Delete partner</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># ids : list of id</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="s">&#39;res.partner&#39;</span><span class="p">,</span> <span class="s">&#39;unlink&#39;</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="php">
<h3>PHP<a class="headerlink" href="#php" title="Permalink to this headline">¶</a></h3>
<div class="section" id="access-open-server-using-xml-rpc">
<h4>Access Open-server using xml-rpc<a class="headerlink" href="#access-open-server-using-xml-rpc" title="Permalink to this headline">¶</a></h4>
<p><strong>Download the XML-RPC framework for PHP</strong></p>
<p>windows / linux: download the xml-rpc framework for php from <a class="reference external" href="http://phpxmlrpc.sourceforge.net/">http://phpxmlrpc.sourceforge.net/</a> The latest stable release is version 2.2 released on February 25, 2007</p>
<p><strong>Setup the XML-RPC for PHP</strong></p>
<p>extract file xmlrpc-2.2.tar.gz and take the file xmlrpc.inc from lib directory place the xmlrpc.inc in the php library folder restart the apcahe/iis server</p>
<p><strong>Demo script</strong></p>
<ul class="simple">
<li><strong>Login</strong></li>
</ul>
<div class="highlight-php"><div class="highlight"><pre><span class="x">function connect() {</span>
<span class="x">   var $user = &#39;admin&#39;;</span>
<span class="x">   var $password = &#39;admin&#39;;</span>
<span class="x">   var $dbname = &#39;db_name&#39;;</span>
<span class="x">   var $server_url = &#39;http://localhost:8069/xmlrpc/&#39;;</span>

<span class="x">   if(isset($_COOKIE[&quot;user_id&quot;]) == true)  {</span>
<span class="x">       if($_COOKIE[&quot;user_id&quot;]&gt;0) {</span>
<span class="x">       return $_COOKIE[&quot;user_id&quot;];</span>
<span class="x">       }</span>
<span class="x">   }</span>

<span class="x">   $sock = new xmlrpc_client($server_url.&#39;common&#39;);</span>
<span class="x">   $msg = new xmlrpcmsg(&#39;login&#39;);</span>
<span class="x">   $msg-&gt;addParam(new xmlrpcval($dbname, &quot;string&quot;));</span>
<span class="x">   $msg-&gt;addParam(new xmlrpcval($user, &quot;string&quot;));</span>
<span class="x">   $msg-&gt;addParam(new xmlrpcval($password, &quot;string&quot;));</span>
<span class="x">   $resp =  $sock-&gt;send($msg);</span>
<span class="x">   $val = $resp-&gt;value();</span>
<span class="x">   $id = $val-&gt;scalarval();</span>
<span class="x">   setcookie(&quot;user_id&quot;,$id,time()+3600);</span>
<span class="x">   if($id &gt; 0) {</span>
<span class="x">       return $id;</span>
<span class="x">   }else{</span>
<span class="x">       return -1;</span>
<span class="x">   }</span>
<span class="x"> }</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>Search</strong></li>
</ul>
<div class="highlight-php"><div class="highlight"><pre><span class="x">/**</span>
<span class="x"> * $client = xml-rpc handler</span>
<span class="x"> * $relation = name of the relation ex: res.partner</span>
<span class="x"> * $attribute = name of the attribute ex:code</span>
<span class="x"> * $operator = search term operator ex: ilike, =, !=</span>
<span class="x"> * $key=search for</span>
<span class="x"> */</span>

<span class="x">function search($client,$relation,$attribute,$operator,$keys) {</span>
<span class="x">     var $user = &#39;admin&#39;;</span>
<span class="x">     var $password = &#39;admin&#39;;</span>
<span class="x">     var $userId = -1;</span>
<span class="x">     var $dbname = &#39;db_name&#39;;</span>
<span class="x">     var $server_url = &#39;http://localhost:8069/xmlrpc/&#39;;</span>

<span class="x">     $key = array(new xmlrpcval(array(new xmlrpcval($attribute , &quot;string&quot;),</span>
<span class="x">              new xmlrpcval($operator,&quot;string&quot;),</span>
<span class="x">              new xmlrpcval($keys,&quot;string&quot;)),&quot;array&quot;),</span>
<span class="x">        );</span>

<span class="x">     if($userId&lt;=0) {</span>
<span class="x">     connect();</span>
<span class="x">     }</span>

<span class="x">     $msg = new xmlrpcmsg(&#39;execute&#39;);</span>
<span class="x">     $msg-&gt;addParam(new xmlrpcval($dbname, &quot;string&quot;));</span>
<span class="x">     $msg-&gt;addParam(new xmlrpcval($userId, &quot;int&quot;));</span>
<span class="x">     $msg-&gt;addParam(new xmlrpcval($password, &quot;string&quot;));</span>
<span class="x">     $msg-&gt;addParam(new xmlrpcval($relation, &quot;string&quot;));</span>
<span class="x">     $msg-&gt;addParam(new xmlrpcval(&quot;search&quot;, &quot;string&quot;));</span>
<span class="x">     $msg-&gt;addParam(new xmlrpcval($key, &quot;array&quot;));</span>

<span class="x">     $resp = $client-&gt;send($msg);</span>
<span class="x">     $val = $resp-&gt;value();</span>
<span class="x">     $ids = $val-&gt;scalarval();</span>

<span class="x">     return $ids;</span>
<span class="x">}</span>
</pre></div>
</div>
<ul>
<li><p class="first"><strong>Create</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">TODO</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>Write</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">TODO</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="java">
<h3>JAVA<a class="headerlink" href="#java" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id1">
<h4>Access Open-server using xml-rpc<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p><strong>Download the apache XML-RPC framework for JAVA</strong></p>
<p>Download the xml-rpc framework for java from <a class="reference external" href="http://ws.apache.org/xmlrpc/">http://ws.apache.org/xmlrpc/</a> The latest stable release is version 3.1 released on August 12, 2007 All TinyERP errors throw exception because the framework allows only an int as the error code where Tinyerp return a string.</p>
<p><strong>Demo script</strong></p>
<ul class="simple">
<li><strong>Find Databases</strong></li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Vector</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.apache.commons.lang.StringUtils</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.xmlrpc.XmlRpcException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.xmlrpc.client.XmlRpcClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.xmlrpc.client.XmlRpcClientConfigImpl</span><span class="o">;</span>

<span class="kd">public</span> <span class="n">Vector</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">getDatabaseList</span><span class="o">(</span><span class="n">String</span> <span class="n">host</span><span class="o">,</span> <span class="kt">int</span> <span class="n">port</span><span class="o">)</span>
<span class="o">{</span>
  <span class="n">XmlRpcClient</span> <span class="n">xmlrpcDb</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XmlRpcClient</span><span class="o">();</span>

  <span class="n">XmlRpcClientConfigImpl</span> <span class="n">xmlrpcConfigDb</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XmlRpcClientConfigImpl</span><span class="o">();</span>
  <span class="n">xmlrpcConfigDb</span><span class="o">.</span><span class="na">setEnabledForExtensions</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
  <span class="n">xmlrpcConfigDb</span><span class="o">.</span><span class="na">setServerURL</span><span class="o">(</span><span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">&quot;http&quot;</span><span class="o">,</span><span class="n">host</span><span class="o">,</span><span class="n">port</span><span class="o">,</span><span class="s">&quot;/xmlrpc/db&quot;</span><span class="o">));</span>

  <span class="n">xmlrpcDb</span><span class="o">.</span><span class="na">setConfig</span><span class="o">(</span><span class="n">xmlrpcConfigDb</span><span class="o">);</span>

  <span class="k">try</span> <span class="o">{</span>
    <span class="c">//Retrieve databases</span>
    <span class="n">Vector</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Vector</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;();</span>
    <span class="n">Object</span> <span class="n">result</span> <span class="o">=</span> <span class="n">xmlrpcDb</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="s">&quot;list&quot;</span><span class="o">,</span> <span class="n">params</span><span class="o">);</span>
    <span class="n">Object</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="o">(</span><span class="n">Object</span><span class="o">[])</span> <span class="n">result</span><span class="o">;</span>

    <span class="n">Vector</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Vector</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">a</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="k">instanceof</span> <span class="n">String</span><span class="o">)</span>
    <span class="o">{</span>
      <span class="n">res</span><span class="o">.</span><span class="na">addElement</span><span class="o">((</span><span class="n">String</span><span class="o">)</span><span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
    <span class="o">}</span>
  <span class="o">}</span>
  <span class="k">catch</span> <span class="o">(</span><span class="n">XmlRpcException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">logger</span><span class="o">.</span><span class="na">warn</span><span class="o">(</span><span class="s">&quot;XmlException Error while retrieving TinyERP Databases: &quot;</span><span class="o">,</span><span class="n">e</span><span class="o">);</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">2</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span>
  <span class="o">{</span>
    <span class="n">logger</span><span class="o">.</span><span class="na">warn</span><span class="o">(</span><span class="s">&quot;Error while retrieving TinyERP Databases: &quot;</span><span class="o">,</span><span class="n">e</span><span class="o">);</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">3</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>Login</strong></li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.apache.commons.lang.StringUtils</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.xmlrpc.XmlRpcException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.xmlrpc.client.XmlRpcClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.xmlrpc.client.XmlRpcClientConfigImpl</span><span class="o">;</span>

<span class="kd">public</span> <span class="kt">int</span> <span class="nf">Connect</span><span class="o">(</span><span class="n">String</span> <span class="n">host</span><span class="o">,</span> <span class="kt">int</span> <span class="n">port</span><span class="o">,</span> <span class="n">String</span> <span class="n">tinydb</span><span class="o">,</span> <span class="n">String</span> <span class="n">login</span><span class="o">,</span> <span class="n">String</span> <span class="n">password</span><span class="o">)</span>
<span class="o">{</span>
  <span class="n">XmlRpcClient</span> <span class="n">xmlrpcLogin</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XmlRpcClient</span><span class="o">();</span>

  <span class="n">XmlRpcClientConfigImpl</span> <span class="n">xmlrpcConfigLogin</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XmlRpcClientConfigImpl</span><span class="o">();</span>
  <span class="n">xmlrpcConfigLogin</span><span class="o">.</span><span class="na">setEnabledForExtensions</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
  <span class="n">xmlrpcConfigLogin</span><span class="o">.</span><span class="na">setServerURL</span><span class="o">(</span><span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">&quot;http&quot;</span><span class="o">,</span><span class="n">host</span><span class="o">,</span><span class="n">port</span><span class="o">,</span><span class="s">&quot;/xmlrpc/common&quot;</span><span class="o">));</span>

  <span class="n">xmlrpcLogin</span><span class="o">.</span><span class="na">setConfig</span><span class="o">(</span><span class="n">xmlrpcConfigLogin</span><span class="o">);</span>

  <span class="k">try</span> <span class="o">{</span>
    <span class="c">//Connect</span>
    <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Object</span><span class="o">[]</span> <span class="o">{</span><span class="n">tinydb</span><span class="o">,</span><span class="n">login</span><span class="o">,</span><span class="n">password</span><span class="o">};</span>
    <span class="n">Object</span> <span class="n">id</span> <span class="o">=</span> <span class="n">xmlrpcLogin</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="s">&quot;login&quot;</span><span class="o">,</span> <span class="n">params</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">id</span> <span class="k">instanceof</span> <span class="n">Integer</span><span class="o">)</span>
      <span class="k">return</span> <span class="o">(</span><span class="n">Integer</span><span class="o">)</span><span class="n">id</span><span class="o">;</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="k">catch</span> <span class="o">(</span><span class="n">XmlRpcException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">logger</span><span class="o">.</span><span class="na">warn</span><span class="o">(</span><span class="s">&quot;XmlException Error while logging to TinyERP: &quot;</span><span class="o">,</span><span class="n">e</span><span class="o">);</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">2</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span>
  <span class="o">{</span>
    <span class="n">logger</span><span class="o">.</span><span class="na">warn</span><span class="o">(</span><span class="s">&quot;Error while logging to TinyERP: &quot;</span><span class="o">,</span><span class="n">e</span><span class="o">);</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">3</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<ul>
<li><p class="first"><strong>Search</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">TODO</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>Create</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">TODO</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>Write</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">TODO</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="python-example">
<h2>Python Example<a class="headerlink" href="#python-example" title="Permalink to this headline">¶</a></h2>
<div class="js-kit-comments" path="/python-example" ></div><p>Example of creation of a partner and his address.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">xmlrpclib</span>

<span class="n">sock</span> <span class="o">=</span> <span class="n">xmlrpclib</span><span class="o">.</span><span class="n">ServerProxy</span><span class="p">(</span><span class="s">&#39;http://localhost:8069/xmlrpc/object&#39;</span><span class="p">)</span>
<span class="n">uid</span> <span class="o">=</span> <span class="mf">1</span>
<span class="n">pwd</span> <span class="o">=</span> <span class="s">&#39;demo&#39;</span>

<span class="n">partner</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;Monsieur&#39;</span><span class="p">,</span>
    <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;Fabien Pinckaers&#39;</span><span class="p">,</span>
    <span class="s">&#39;lang&#39;</span><span class="p">:</span> <span class="s">&#39;fr&#39;</span><span class="p">,</span>
    <span class="s">&#39;active&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">partner_id</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="s">&#39;res.partner&#39;</span><span class="p">,</span> <span class="s">&#39;create&#39;</span><span class="p">,</span> <span class="n">partner</span><span class="p">)</span>

<span class="n">address</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;partner_id&#39;</span><span class="p">:</span> <span class="n">partner_id</span><span class="p">,</span>
    <span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;default&#39;</span><span class="p">,</span>
    <span class="s">&#39;street&#39;</span><span class="p">:</span> <span class="s">&#39;Rue du vieux chateau, 21&#39;</span><span class="p">,</span>
    <span class="s">&#39;zip&#39;</span><span class="p">:</span> <span class="s">&#39;1457&#39;</span><span class="p">,</span>
    <span class="s">&#39;city&#39;</span><span class="p">:</span> <span class="s">&#39;Walhain&#39;</span><span class="p">,</span>
    <span class="s">&#39;phone&#39;</span><span class="p">:</span> <span class="s">&#39;(+32)10.68.94.39&#39;</span><span class="p">,</span>
    <span class="s">&#39;fax&#39;</span><span class="p">:</span> <span class="s">&#39;(+32)10.68.94.39&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="s">&#39;res.partner.address&#39;</span><span class="p">,</span> <span class="s">&#39;create&#39;</span><span class="p">,</span> <span class="n">address</span><span class="p">)</span>
</pre></div>
</div>
<p>To get the UID of a user, you can use the following script:</p>
<div class="highlight-python"><pre>sock = xmlrpclib.ServerProxy('http://localhost:8069/xmlrpc/common')
 UID = sock.login('terp3', 'admin', 'admin')</pre>
</div>
<p>CRUD example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">:The login function is under</span>
<span class="sd">::    http://localhost:8069/xmlrpc/common</span>
<span class="sd">:For object retrieval use:</span>
<span class="sd">::    http://localhost:8069/xmlrpc/object</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">xmlrpclib</span>

<span class="n">user</span> <span class="o">=</span> <span class="s">&#39;admin&#39;</span>
<span class="n">pwd</span> <span class="o">=</span> <span class="s">&#39;admin&#39;</span>
<span class="n">dbname</span> <span class="o">=</span> <span class="s">&#39;terp3&#39;</span>
<span class="n">model</span> <span class="o">=</span> <span class="s">&#39;res.partner&#39;</span>

<span class="n">sock</span> <span class="o">=</span> <span class="n">xmlrpclib</span><span class="o">.</span><span class="n">ServerProxy</span><span class="p">(</span><span class="s">&#39;http://localhost:8069/xmlrpc/common&#39;</span><span class="p">)</span>
<span class="n">uid</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">dbname</span> <span class="p">,</span><span class="n">user</span> <span class="p">,</span><span class="n">pwd</span><span class="p">)</span>

<span class="n">sock</span> <span class="o">=</span> <span class="n">xmlrpclib</span><span class="o">.</span><span class="n">ServerProxy</span><span class="p">(</span><span class="s">&#39;http://localhost:8069/xmlrpc/object&#39;</span><span class="p">)</span>

<span class="c"># CREATE A PARTNER</span>
<span class="n">partner_data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;name&#39;</span><span class="p">:</span><span class="s">&#39;Tiny&#39;</span><span class="p">,</span> <span class="s">&#39;active&#39;</span><span class="p">:</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;vat&#39;</span><span class="p">:</span><span class="s">&#39;ZZZZZ&#39;</span><span class="p">}</span>
<span class="n">partner_id</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="s">&#39;create&#39;</span><span class="p">,</span> <span class="n">partner_data</span><span class="p">)</span>

<span class="c"># The relation between res.partner and res.partner.category is of type many2many</span>
<span class="c"># To add  categories to a partner use the following format:</span>
<span class="n">partner_data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;name&#39;</span><span class="p">:</span><span class="s">&#39;Provider2&#39;</span><span class="p">,</span> <span class="s">&#39;category_id&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="mf">6</span><span class="p">,</span><span class="mf">0</span><span class="p">,[</span><span class="mf">3</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">1</span><span class="p">])]}</span>
<span class="c"># Where [3, 2, 1] are id fields of lines in res.partner.category</span>

<span class="c"># SEARCH PARTNERS</span>
<span class="n">args</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;vat&#39;</span><span class="p">,</span> <span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="s">&#39;ZZZZZ&#39;</span><span class="p">),]</span>
<span class="n">ids</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="s">&#39;search&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>

<span class="c"># READ PARTNER DATA</span>
<span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="s">&#39;active&#39;</span><span class="p">,</span> <span class="s">&#39;vat&#39;</span><span class="p">,</span> <span class="s">&#39;ref&#39;</span><span class="p">]</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="s">&#39;read&#39;</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">fields</span><span class="p">)</span>
<span class="k">print</span> <span class="n">results</span>

<span class="c"># EDIT PARTNER DATA</span>
<span class="n">values</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;vat&#39;</span><span class="p">:</span><span class="s">&#39;ZZ1ZZ&#39;</span><span class="p">}</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="s">&#39;write&#39;</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>

<span class="c"># DELETE PARTNER DATA</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="s">&#39;unlink&#39;</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span>
</pre></div>
</div>
<p>PRINT example:</p>
<div class="highlight-python"><pre>import time
import base64
printsock = xmlrpclib.ServerProxy('http://server:8069/xmlrpc/report')
model = 'account.invoice'
id_report = printsock.report(dbname, uid, pwd, model, ids, {'model': model, 'id': ids[0], 'report_type':'pdf'})
time.sleep(5)
state = False
attempt = 0
while not state:
    report = printsock.report_get(dbname, uid, pwd, id_report)
    state = report['state']
    if not state:
    time.sleep(1)
    attempt += 1
    if attempt&gt;200:
    print 'Printing aborted, too long delay !'

    string_pdf = base64.decodestring(report['result'])
    file_pdf = open('/tmp/file.pdf','w')
    file_pdf.write(string_pdf)
    file_pdf.close()</pre>
</div>
</div>
<div class="section" id="php-example">
<h2>PHP Example<a class="headerlink" href="#php-example" title="Permalink to this headline">¶</a></h2>
<div class="js-kit-comments" path="/php-example" ></div><p>Here is an example on how to insert a new partner using PHP. This example makes use the phpxmlrpc library, available on sourceforge.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?</span>

<span class="k">include</span><span class="p">(</span><span class="s1">&#39;xmlrpc.inc&#39;</span><span class="p">);</span>

<span class="nv">$arrayVal</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
<span class="s1">&#39;name&#39;</span><span class="o">=&gt;</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="s1">&#39;Fabien Pinckaers&#39;</span><span class="p">,</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="p">,</span>
<span class="s1">&#39;vat&#39;</span><span class="o">=&gt;</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="s1">&#39;BE477472701&#39;</span> <span class="p">,</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">xmlrpc_client</span><span class="p">(</span><span class="s2">&quot;http://localhost:8069/xmlrpc/object&quot;</span><span class="p">);</span>

<span class="nv">$msg</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">xmlrpcmsg</span><span class="p">(</span><span class="s1">&#39;execute&#39;</span><span class="p">);</span>
<span class="nv">$msg</span><span class="o">-&gt;</span><span class="na">addParam</span><span class="p">(</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="s2">&quot;dbname&quot;</span><span class="p">,</span> <span class="s2">&quot;string&quot;</span><span class="p">));</span>
<span class="nv">$msg</span><span class="o">-&gt;</span><span class="na">addParam</span><span class="p">(</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;int&quot;</span><span class="p">));</span>
<span class="nv">$msg</span><span class="o">-&gt;</span><span class="na">addParam</span><span class="p">(</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="s2">&quot;demo&quot;</span><span class="p">,</span> <span class="s2">&quot;string&quot;</span><span class="p">));</span>
<span class="nv">$msg</span><span class="o">-&gt;</span><span class="na">addParam</span><span class="p">(</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="s2">&quot;res.partner&quot;</span><span class="p">,</span> <span class="s2">&quot;string&quot;</span><span class="p">));</span>
<span class="nv">$msg</span><span class="o">-&gt;</span><span class="na">addParam</span><span class="p">(</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="s2">&quot;create&quot;</span><span class="p">,</span> <span class="s2">&quot;string&quot;</span><span class="p">));</span>
<span class="nv">$msg</span><span class="o">-&gt;</span><span class="na">addParam</span><span class="p">(</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="nv">$arrayVal</span><span class="p">,</span> <span class="s2">&quot;struct&quot;</span><span class="p">));</span>

<span class="nv">$resp</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">(</span><span class="nv">$msg</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$resp</span><span class="o">-&gt;</span><span class="na">faultCode</span><span class="p">())</span>

    <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span><span class="o">.</span><span class="nv">$resp</span><span class="o">-&gt;</span><span class="na">faultString</span><span class="p">();</span>

<span class="k">else</span>

    <span class="k">echo</span> <span class="s1">&#39;Partner &#39;</span><span class="o">.</span><span class="nv">$resp</span><span class="o">-&gt;</span><span class="na">value</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">scalarval</span><span class="p">()</span><span class="o">.</span><span class="s1">&#39; created !&#39;</span><span class="p">;</span>

<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>


            <br />
            <div class="js-kit-comments" permalink=""></div>
            <script src="http://js-kit.com/comments.js"></script>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">XML-RPC Web services</a><ul>
<li><a class="reference external" href="#interfaces">Interfaces</a><ul>
<li><a class="reference external" href="#xml-rpc">XML-RPC</a><ul>
<li><a class="reference external" href="#xml-rpc-architecture">XML-RPC Architecture</a></li>
<li><a class="reference external" href="#architecture">Architecture</a></li>
</ul>
</li>
<li><a class="reference external" href="#python">Python</a><ul>
<li><a class="reference external" href="#access-tiny-server-using-xml-rpc">Access tiny-server using xml-rpc</a><ul>
<li><a class="reference external" href="#demo-script">Demo script</a></li>
</ul>
</li>
<li><a class="reference external" href="#import-xmlrpclib">import xmlrpclib</a></li>
</ul>
</li>
<li><a class="reference external" href="#php">PHP</a><ul>
<li><a class="reference external" href="#access-open-server-using-xml-rpc">Access Open-server using xml-rpc</a></li>
</ul>
</li>
<li><a class="reference external" href="#java">JAVA</a><ul>
<li><a class="reference external" href="#id1">Access Open-server using xml-rpc</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference external" href="#python-example">Python Example</a></li>
<li><a class="reference external" href="#php-example">PHP Example</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="../6_21_web_services/index.html"
                                  title="previous chapter">Working with Web Services</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../7_23_RAD_tools/index.html"
                                  title="next chapter">RAD Tools</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/developer/6_22_XML-RPC_web_services/index.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
<div id="searchbox">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<h3>Open ERP Books</h3><br />
<table cellpading="10px" cellspacing="10px" style="border: 1px solid #98DBCC;" align="center" bgcolor="#FFFFFF">
  <tr>
   <td align="center">
   <span style="text-align:center;">
<iframe src="http://rcm-fr.amazon.fr/e/cm?t=fabsblo-21&o=8&p=8&l=as1&asins=2212122616&fc1=000000&IS2=
1&lt1=_blank&lc1=0000FF&bc1=FFFFFF&bg1=FFFFFF&f=ifr&npa=1" style="width:120px;height:240px;text-align:center;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</span>
   </td>
  </tr>
  <tr> 
  <td align="center">
<a href="http://www.openerp.com/buy.html?page=shop.product_details&amp;flypage=openerp.tpl&amp;product_id=36&amp;category_id=8" title="Open ERP for Retail and Industrial Management" style="border:none;"><img src="http://www.openerp.com/components/com_virtuemart/shop_image/product/Open_ERP_for_Ret_4a1a9e3e3dec5.png" width="100px" height="134px" style="border:none; text-align:center;"></a>
<p style="font-size:10px;">Retail and Industrial Management, steps towards Sales, Logistics and Manufacturing Integration in the Open Source & Management Collection.</p>
</span>
</td>
</tr>
</table>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../7_23_RAD_tools/index.html" title="RAD Tools"
             >next</a> |</li>
        <li class="right" >
          <a href="../6_21_web_services/index.html" title="Working with Web Services"
             >previous</a> |</li>

          <li><a href="../index.html" >Developer Book</a> &raquo;</li> 
      </ul>
    </div>


    <div class="related-tiny">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I" class="bottom-nav-links" >index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             accesskey="M" class="bottom-nav-links" >modules</a> |</li>
        <li class="right" >
          <a href="../7_23_RAD_tools/index.html" title="RAD Tools"
             accesskey="N" class="bottom-nav-links" >next</a> |</li>
        <li class="right" >
          <a href="../6_21_web_services/index.html" title="Working with Web Services"
             accesskey="P" class="bottom-nav-links" >previous</a> |</li>
        <li><a href="../../index.html">Documentation</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Developer Book</a> &raquo;</li>
        
      </ul>
    </div>

    <div class="footer">
      &copy; <a href="../../copyright.html">Copyright</a> .
      Last updated on 2009-07-16.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.2.
    </div>
<script type="text/javascript">

var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));

try {
  var pageTracker = _gat._getTracker("UA-7333765-8");
  pageTracker._trackPageview();
} catch(err) {}

</script>

  </body>
</html>