


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>RAD Tools &mdash; Documentation</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="Documentation" href="../../index.html" />
    <link rel="up" title="Developer Book" href="../index.html" />
    <link rel="next" title="Appendices Index" href="../Appendices/index.html" />
    <link rel="prev" title="XML-RPC Web services" href="../6_22_XML-RPC_web_services/index.html" />
<script src="../../_static/tiny_js_kit_comment_control.js" type="text/javascript"></script>



 

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="../Appendices/index.html" title="Appendices Index"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../6_22_XML-RPC_web_services/index.html" title="XML-RPC Web services"
             accesskey="P">previous</a> |</li>

          <li><a href="../index.html" accesskey="U">Developer Book</a> &raquo;</li> 
      </ul>
    </div>
  <div class="openobject-header">
    <table cellspacing="0" cellpadding="0" border="0" width="1004">
      <tbody>
        <tr>
           <td width="202" class="headerpic">
            <a alt="Open Object - Free Management Solution Logo" href="http://openerp.com">
              <img border="0" src="../../_static/openerp.jpg"/>
            </a>
          </td>
         <td width="335" class="headerpic">
            <div align="right"><img src="../../_static/headerpic.jpg" width="242" height="68" /></div>
          </td>
          <td width="440" valign="top" align="right">
            <table id="Table_01" height="37" border="0" cellpadding="0" cellspacing="0">
              <tr>
                <td class="greycurveleft" width="23px" height="37px"></td>
                <td width="107" class="headerlinkgrey">
                  <div class="headerlink" align="center"><a href="http://openerp.com"><strong>OpenERP</strong></a></div>
                </td>
                <td width="22px" height="37px" class="greyredcurve"></td>
                <td width="125" height="37" class="redline">
                  <div class="headerlink" align="center"><a href="http://ondemand.openerp.com"><strong>OnDemand</strong></a></div>
                </td>
                <td width="20" height="37" class="redcurve">&nbsp;</td>
                <td width="139" height="37" class="redline">
                  <div class="headerlink" align="center"><a href="http://openobject.com"><strong>Community</strong></a></div>
                </td>
                <td width="16" height="37"><img src="../../_static/curve.gif"/></td>
              </tr>
            </table>
            <p class="fortune">Best-selling book on enterprise management</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="openobject-navbar">
    <table width="1004" border="0" cellspacing="0" cellpadding="0" id="menu-header">
      <tr>
        <td width="230" id="menu-header" nowrap="nowrap">&nbsp;</td>
        <td id="menu-breadcrumb" nowrap="nowrap">
          
    <div class="related-tiny">
      <h3>Navigation</h3>
      <ul>
        <li class="right">
          <select id="comments_control">
            <option value="">comments control</option>
            <option value="HIDE">hide</option>
            <option value="SHOW">show</option>
          </select>
        </li>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="../Appendices/index.html" title="Appendices Index"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../6_22_XML-RPC_web_services/index.html" title="XML-RPC Web services"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Documentation</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Developer Book</a> &raquo;</li> 
      </ul>
    </div>

        </td>
      </tr>
    </table>
  </div>


      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">RAD Tools</a><ul>
<li><a class="reference external" href="#dia">DIA</a></li>
<li><a class="reference external" href="#open-office-report-designer">Open Office Report Designer</a><ul>
<li><a class="reference external" href="#modifying-a-report">Modifying a report</a></li>
<li><a class="reference external" href="#creating-a-new-report">Creating a new report</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="../6_22_XML-RPC_web_services/index.html"
                                  title="previous chapter">XML-RPC Web services</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../Appendices/index.html"
                                  title="next chapter">Appendices Index</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/developer/7_23_RAD_tools/index.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
<div id="searchbox">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<h3>Open ERP Books</h3><br />
<table cellpading="10px" cellspacing="10px" style="border: 1px solid #98DBCC;" align="center" bgcolor="#FFFFFF">
  <tr>
   <td align="center">
   <span style="text-align:center;">
<iframe src="http://rcm-fr.amazon.fr/e/cm?t=fabsblo-21&o=8&p=8&l=as1&asins=2212122616&fc1=000000&IS2=
1&lt1=_blank&lc1=0000FF&bc1=FFFFFF&bg1=FFFFFF&f=ifr&npa=1" style="width:120px;height:240px;text-align:center;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</span>
   </td>
  </tr>
  <tr> 
  <td align="center">
<a href="http://www.openerp.com/buy.html?page=shop.product_details&amp;flypage=openerp.tpl&amp;product_id=36&amp;category_id=8" title="Open ERP for Retail and Industrial Management" style="border:none;"><img src="http://www.openerp.com/components/com_virtuemart/shop_image/product/Open_ERP_for_Ret_4a1a9e3e3dec5.png" width="100px" height="134px" style="border:none; text-align:center;"></a>
<p style="font-size:10px;">Retail and Industrial Management, steps towards Sales, Logistics and Manufacturing Integration in the Open Source & Management Collection.</p>
</span>
</td>
</tr>
</table>

        </div>
      </div>


    <div class="document">
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="rad-tools">
<h1>RAD Tools<a class="headerlink" href="#rad-tools" title="Permalink to this headline">¶</a></h1>
<div class="section" id="dia">
<h2>DIA<a class="headerlink" href="#dia" title="Permalink to this headline">¶</a></h2>
<div class="js-kit-comments" path="/dia" ></div><p>The uml_dia module helps to develop new modules after an UML description using the DIA tool (<a class="reference external" href="http://www.gnome.org/projects/dia">http://www.gnome.org/projects/dia</a>).</p>
<p>It&#8217;s not a typical module in the sense that you don&#8217;t have to install it on the server as another module. The contents of the module are just a python script for dia (codegen_openerp.py), a test dia diagram and the module generated by the test.</p>
<p>The module is located in the extra_addons branch: <a class="reference external" href="https://code.launchpad.net/openobject-addons">https://code.launchpad.net/openobject-addons</a></p>
<p>To use the module you need to make <strong>codegen_openerp.py</strong> accesible from dia, usually in your <strong>/usr/share/dia/python</strong> directory and make sure that it gets loaded once. To do it, just open dia and open a <strong>Python Console</strong> from the <strong>Dialog Menu</strong>, and type there &#8220;import codegen_openerp&#8221;. If everything goes alright you will have a new option in your &#8220;Export...&#8221; dialog named &#8220;PyDia Code Generation (OpenERP)&#8221; that will create a zip module from your UML diagram.</p>
<p>To install win Dia in windows, first install Python-2.2, then when you install Dia, you will have an option to install the python plug-in. After this, put the codegen_openerp.py file in C:Program FilesDia and you will have the export function in Dia.</p>
<p>If you find that the zip file is corrupt, use DiskInternals ZipRepair utility to repair the zip file before you&#8217;ll be able to import it - make sure the zip file you import has the same name you saved as.</p>
</div>
<div class="section" id="open-office-report-designer">
<h2>Open Office Report Designer<a class="headerlink" href="#open-office-report-designer" title="Permalink to this headline">¶</a></h2>
<div class="js-kit-comments" path="/open-office-report-designer" ></div><p>Select Tiny Report &gt; Server parameters or Open ERP Report &gt; Server parameters in the top menu of OpenOffice.org Writer. You can then enter your connection parameters to the Open&nbsp;ERP server. You must select a database <tt class="docutils literal"><span class="pre">demo_min</span></tt>  in which you&#8217;ve already installed the module <tt class="docutils literal"><span class="pre">sale</span></tt> . A message appears if you&#8217;ve made a successful connection.</p>
<span class="target" id="index-454"></span><div class="section" id="modifying-a-report">
<h3>Modifying a report<a class="headerlink" href="#modifying-a-report" title="Permalink to this headline">¶</a></h3>
<p>The report editor lets you:</p>
<ul class="simple">
<li>modify existing reports which will then replace the originals in your Open&nbsp;ERP database,</li>
<li>create new reports for the selected object.</li>
</ul>
<p>To modify an existing report, select  <em>Tiny Report &gt; Modify Existing Report</em> . Choose the report <tt class="docutils literal"><span class="pre">Request</span> <span class="pre">for</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">Quotation</span></tt>  in the  <em>Modify Existing Report</em>  dialog box and then click  <em>Save to Temp Directory</em> .</p>
<div align="center" class="align-center"><img alt="../../_images/openoffice_quotation1.png" class="align-center" src="../../_images/openoffice_quotation1.png" /></div>
<p><em>Modifying a document template</em></p>
<p>OpenOffice.org then opens the report in edit mode for you. You can modify it using the standard word processing functions of OpenOffice.org Writer.</p>
<p>The document is modified in its English version. It will be translated as usual by Open&nbsp;ERP&#8217;s translation system when you use it through the client interface, if you&#8217;ve personalized your own setup to translate to another language for you. So you only need to modify the template once, even if your system uses other languages – but you&#8217;ll need to add translations as described earlier in this chapter if you add fields or change the content of the existing ones.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last"><strong>Attention</strong>  <em>Older reports</em></p>
</div>
<p>The older reports haven&#8217;t all been converted into the new form supported by Open&nbsp;ERP. The data expressions in the old format are shown within double brackets and not in OpenOffice.org fields.</p>
<p>You can transform an old report format to the new format from the OpenOffice.org menu Tiny Report &gt; Convert Bracket–Fields.</p>
<p>From the Tiny toolbar in OpenOffice.org it&#8217;s possible to:</p>
<ul class="simple">
<li>connect to the Open&nbsp;ERP server: by supplying the connection parameters.</li>
<li>add a loop: select a related field amongst the available fields from the proposed object, for example <tt class="docutils literal"><span class="pre">Order</span> <span class="pre">lines</span></tt> . When it&#8217;s printed this loop will be run for each line of the order. The loop can be put into a table (the lines will then be repeated) or into an OpenOffice.org section.</li>
<li>add a field: you can then go through the whole Open&nbsp;ERP database from the selected object and then a particular field.</li>
<li>add an expression: enter an expression in the Python language to calculate values from any fields in the selected object.</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last"><strong>Technique</strong>  <em>Python Expressions</em></p>
</div>
<p>Using the Expression button you can enter expressions in the Python language. These expressions can use all of the object&#8217;s fields for their calculations.</p>
<p>For example if you make a report on an order you can use the following expression:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&#39;</span><span class="si">%.2f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">amount_total</span> <span class="o">*</span> <span class="mf">0.9</span><span class="p">,)</span>
</pre></div>
</div>
<p>In this example, amount_total is a field from the order object. The result will be 90% of the total of the order, formatted to two decimal places.</p>
<p>You can check the result in Open&nbsp;ERP using the menu  <em>Sales Management &gt; Sales Orders &gt; All Orders</em> .</p>
<span class="target" id="index-455"></span></div>
<div class="section" id="creating-a-new-report">
<h3>Creating a new report<a class="headerlink" href="#creating-a-new-report" title="Permalink to this headline">¶</a></h3>
<p>The general template is made up of loops (such as the list of selected orders) and fields from the object, which can also be looped. Format them to your requirements then save the template.</p>
<p>The existing report templates make up a rich source of examples. You can start by adding the loops and several fields to create a minimal template.</p>
<p>When the report has been created, send it to the server by clicking  <em>Tiny Report &gt; Send to server</em> , which brings up the  <em>Send to server</em>  dialog box. Enter the  <em>Technical Name</em>  of <tt class="docutils literal"><span class="pre">sale.order</span></tt> , to make it appear beside the other sales order reports. Rename the template as <tt class="docutils literal"><span class="pre">Sale</span> <span class="pre">Order</span> <span class="pre">New</span></tt>  in  <em>Report Name</em> , check the checkbox  <em>Corporate Header</em>  and finally click  <em>Send Report to Server</em> .</p>
<p>To send it to the server, you can specify if you prefer Open&nbsp;ERP to produce a PDF when the user prints the document, or if Open&nbsp;ERP should open the document for editing in OpenOffice.org Writer before printing. To do that choose <tt class="docutils literal"><span class="pre">PDF</span></tt>  or <tt class="docutils literal"><span class="pre">SXW</span></tt>  (a format of OpenOffice.org documents) in the field  <em>Select Report Type</em></p>
<p>Open ERP objects can be created from PostgreSQL views. The technique is as follows :</p>
<p>Example The object report_crm_case_user follows this model.</p>
<div class="highlight-python"><pre>report_crm_case_user(osv.osv):
     _name = "report.crm.case.user"
     _description = "Cases by user and section"
     _auto = False
     _columns = {
        'name': fields.date('Month', readonly=True),
        'user_id':fields.many2one('res.users', 'User', readonly=True, relate=True),
        'section_id':fields.many2one('crm.case.section', 'Section', readonly=True, relate=True),
        'amount_revenue': fields.float('Est.Revenue', readonly=True),
       'amount_costs': fields.float('Est.Cost', readonly=True),
        'amount_revenue_prob': fields.float('Est. Rev*Prob.', readonly=True),
        'nbr': fields.integer('# of Cases', readonly=True),
       'probability': fields.float('Avg. Probability', readonly=True),
        'state': fields.selection(AVAILABLE_STATES, 'State', size=16, readonly=True),
        'delay_close': fields.integer('Delay to close', readonly=True),
    }
     _order = 'name desc, user_id, section_id'

    def init(self, cr):
        cr.execute("""
             create or replace view report_crm_case_user as (
                 select
                     min(c.id) as id,
                     substring(c.create_date for 7)||'-01' as name,
                     c.state,
                     c.user_id,
                     c.section_id,
                     count(*) as nbr,
                     sum(planned_revenue) as amount_revenue,
                     sum(planned_cost) as amount_costs,
                     sum(planned_revenue*probability)::decimal(16,2) as amount_revenue_prob,
                     avg(probability)::decimal(16,2) as probability,
                     to_char(avg(date_closed-c.create_date), 'DD"d" `HH24:MI:SS') as delay_close
                 from
                     crm_case c
                 group by substring(c.create_date for 7), c.state, c.user_id, c.section_id
        )""")
report_crm_case_user()</pre>
</div>
</div>
</div>
</div>


            <br />
            <div class="js-kit-comments" permalink=""></div>
            <script src="http://js-kit.com/comments.js"></script>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">RAD Tools</a><ul>
<li><a class="reference external" href="#dia">DIA</a></li>
<li><a class="reference external" href="#open-office-report-designer">Open Office Report Designer</a><ul>
<li><a class="reference external" href="#modifying-a-report">Modifying a report</a></li>
<li><a class="reference external" href="#creating-a-new-report">Creating a new report</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="../6_22_XML-RPC_web_services/index.html"
                                  title="previous chapter">XML-RPC Web services</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../Appendices/index.html"
                                  title="next chapter">Appendices Index</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/developer/7_23_RAD_tools/index.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
<div id="searchbox">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<h3>Open ERP Books</h3><br />
<table cellpading="10px" cellspacing="10px" style="border: 1px solid #98DBCC;" align="center" bgcolor="#FFFFFF">
  <tr>
   <td align="center">
   <span style="text-align:center;">
<iframe src="http://rcm-fr.amazon.fr/e/cm?t=fabsblo-21&o=8&p=8&l=as1&asins=2212122616&fc1=000000&IS2=
1&lt1=_blank&lc1=0000FF&bc1=FFFFFF&bg1=FFFFFF&f=ifr&npa=1" style="width:120px;height:240px;text-align:center;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</span>
   </td>
  </tr>
  <tr> 
  <td align="center">
<a href="http://www.openerp.com/buy.html?page=shop.product_details&amp;flypage=openerp.tpl&amp;product_id=36&amp;category_id=8" title="Open ERP for Retail and Industrial Management" style="border:none;"><img src="http://www.openerp.com/components/com_virtuemart/shop_image/product/Open_ERP_for_Ret_4a1a9e3e3dec5.png" width="100px" height="134px" style="border:none; text-align:center;"></a>
<p style="font-size:10px;">Retail and Industrial Management, steps towards Sales, Logistics and Manufacturing Integration in the Open Source & Management Collection.</p>
</span>
</td>
</tr>
</table>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../Appendices/index.html" title="Appendices Index"
             >next</a> |</li>
        <li class="right" >
          <a href="../6_22_XML-RPC_web_services/index.html" title="XML-RPC Web services"
             >previous</a> |</li>

          <li><a href="../index.html" >Developer Book</a> &raquo;</li> 
      </ul>
    </div>


    <div class="related-tiny">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I" class="bottom-nav-links" >index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             accesskey="M" class="bottom-nav-links" >modules</a> |</li>
        <li class="right" >
          <a href="../Appendices/index.html" title="Appendices Index"
             accesskey="N" class="bottom-nav-links" >next</a> |</li>
        <li class="right" >
          <a href="../6_22_XML-RPC_web_services/index.html" title="XML-RPC Web services"
             accesskey="P" class="bottom-nav-links" >previous</a> |</li>
        <li><a href="../../index.html">Documentation</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Developer Book</a> &raquo;</li>
        
      </ul>
    </div>

    <div class="footer">
      &copy; <a href="../../copyright.html">Copyright</a> .
      Last updated on 2009-07-16.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.2.
    </div>
<script type="text/javascript">

var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));

try {
  var pageTracker = _gat._getTracker("UA-7333765-8");
  pageTracker._trackPageview();
} catch(err) {}

</script>

  </body>
</html>