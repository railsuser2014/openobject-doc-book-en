


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introduction &mdash; Documentation</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="Documentation" href="../../index.html" />
<script src="../../_static/tiny_js_kit_comment_control.js" type="text/javascript"></script>



 

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
 
      </ul>
    </div>
  <div class="openobject-header">
    <table cellspacing="0" cellpadding="0" border="0" width="1004">
      <tbody>
        <tr>
           <td width="202" class="headerpic">
            <a alt="Open Object - Free Management Solution Logo" href="http://openerp.com">
              <img border="0" src="../../_static/openerp.jpg"/>
            </a>
          </td>
         <td width="335" class="headerpic">
            <div align="right"><img src="../../_static/headerpic.jpg" width="242" height="68" /></div>
          </td>
          <td width="440" valign="top" align="right">
            <table id="Table_01" height="37" border="0" cellpadding="0" cellspacing="0">
              <tr>
                <td class="greycurveleft" width="23px" height="37px"></td>
                <td width="107" class="headerlinkgrey">
                  <div class="headerlink" align="center"><a href="http://openerp.com"><strong>OpenERP</strong></a></div>
                </td>
                <td width="22px" height="37px" class="greyredcurve"></td>
                <td width="125" height="37" class="redline">
                  <div class="headerlink" align="center"><a href="http://ondemand.openerp.com"><strong>OnDemand</strong></a></div>
                </td>
                <td width="20" height="37" class="redcurve">&nbsp;</td>
                <td width="139" height="37" class="redline">
                  <div class="headerlink" align="center"><a href="http://openobject.com"><strong>Community</strong></a></div>
                </td>
                <td width="16" height="37"><img src="../../_static/curve.gif"/></td>
              </tr>
            </table>
            <p class="fortune">Best-selling book on enterprise management</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="openobject-navbar">
    <table width="1004" border="0" cellspacing="0" cellpadding="0" id="menu-header">
      <tr>
        <td width="230" id="menu-header" nowrap="nowrap">&nbsp;</td>
        <td id="menu-breadcrumb" nowrap="nowrap">
          
    <div class="related-tiny">
      <h3>Navigation</h3>
      <ul>
        <li class="right">
          <select id="comments_control">
            <option value="">comments control</option>
            <option value="HIDE">hide</option>
            <option value="SHOW">show</option>
          </select>
        </li>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li><a href="../../index.html">Documentation</a> &raquo;</li> 
      </ul>
    </div>

        </td>
      </tr>
    </table>
  </div>


      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">Introduction</a><ul>
<li><a class="reference external" href="#how-to-load-data">How to load data ?</a></li>
<li><a class="reference external" href="#how-to-backup-restore-a-postgresql-database">How to backup/restore a Postgresql database?</a></li>
<li><a class="reference external" href="#the-objects-methods">The objects methods</a></li>
</ul>
</li>
<li><a class="reference external" href="#webservicesxmlrpc">WebservicesXMLRPC</a></li>
<li><a class="reference external" href="#an-example-in-php">An example in PHP</a></li>
<li><a class="reference external" href="#an-example-in-python">An example in Python</a></li>
</ul>

            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/developer/17_Web_services/index.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
<div id="searchbox">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<h3>Open ERP Books</h3><br />
<table cellpading="10px" cellspacing="10px" style="border: 1px solid #98DBCC;" align="center" bgcolor="#FFFFFF">
  <tr>
   <td align="center">
   <span style="text-align:center;">
<iframe src="http://rcm-fr.amazon.fr/e/cm?t=fabsblo-21&o=8&p=8&l=as1&asins=2212122616&fc1=000000&IS2=
1&lt1=_blank&lc1=0000FF&bc1=FFFFFF&bg1=FFFFFF&f=ifr&npa=1" style="width:120px;height:240px;text-align:center;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</span>
   </td>
  </tr>
  <tr> 
  <td align="center">
<a href="http://www.openerp.com/buy.html?page=shop.product_details&amp;flypage=openerp.tpl&amp;product_id=36&amp;category_id=8" title="Open ERP for Retail and Industrial Management" style="border:none;"><img src="http://www.openerp.com/components/com_virtuemart/shop_image/product/Open_ERP_for_Ret_4a1a9e3e3dec5.png" width="100px" height="134px" style="border:none; text-align:center;"></a>
<p style="font-size:10px;">Retail and Industrial Management, steps towards Sales, Logistics and Manufacturing Integration in the Open Source & Management Collection.</p>
</span>
</td>
</tr>
</table>

        </div>
      </div>


    <div class="document">
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<div class="section" id="how-to-load-data">
<h2>How to load data ?<a class="headerlink" href="#how-to-load-data" title="Permalink to this headline">¶</a></h2>
<div class="js-kit-comments" path="/how-to-load-data" ></div></div>
<div class="section" id="how-to-backup-restore-a-postgresql-database">
<h2>How to backup/restore a Postgresql database?<a class="headerlink" href="#how-to-backup-restore-a-postgresql-database" title="Permalink to this headline">¶</a></h2>
<div class="js-kit-comments" path="/how-to-backup-restore-a-postgresql-database" ></div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">backup:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">restore:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-objects-methods">
<h2>The objects methods<a class="headerlink" href="#the-objects-methods" title="Permalink to this headline">¶</a></h2>
<div class="js-kit-comments" path="/the-objects-methods" ></div></div>
</div>
<div class="section" id="webservicesxmlrpc">
<h1>WebservicesXMLRPC<a class="headerlink" href="#webservicesxmlrpc" title="Permalink to this headline">¶</a></h1>
<ol class="arabic">
<li><dl class="first docutils">
<dt>XML-RPC</dt>
<dd><ul class="first last simple">
<li>standard: <a class="reference external" href="http://www.xmlrpc.org">http://www.xmlrpc.org</a></li>
<li>RPC Over HTTP</li>
<li>Function Parameters &amp; Result encoded in XML</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Principle;</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>calls to objects methodes;</dt>
<dd><ul class="first last simple">
<li>read, write</li>
<li>create</li>
<li>unlink (=delete)</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ol>
<p>XML-RPC is known as a web service. Web services are a set of tools that let one build distributed applications on top of existing web infrastructures. These applications use the Web as a kind of &#8220;transport layer&#8221; but don&#8217;t offer a direct human interface via the browser.[1] Extensible Markup Language (XML) provides a vocabulary for describing Remote Procedure Calls (RPC), which is then transmitted between computers using the HyperText Transfer Protocol (HTTP). Effectively, RPC gives developers a mechanism for defining interfaces that can be called over a network. These interfaces can be as simple as a single function call or as complex as a large API.</p>
<p>XML-RPC therefore allows two or more computers running different operating systems and programs written in different languages to share processing. For example, a Java application could talk with a Perl program, which in turn talks with Python application that talks with ASP, and so on. System integrators often build custom connections between different systems, creating their own formats and protocols to make communications possible, but one can often end up with a large number of poorly documented single-use protocols. The RPC approach spares programmers the trouble of having to learn about underlying protocols, networking, and various implementation details.</p>
<p>XML-RPC can be used with Python, Java, Perl, PHP, C, C++, Ruby, Microsoft’s .NET and many other programming languages. Implementations are widely available for platforms such as Unix, Linux, Windows and the Macintosh.</p>
<p>An XML-RPC call is conducted between two parties: the client (the calling process) and the server (the called process). A server is made available at a particular URL (such as <a class="reference external" href="http://example.org:8080/rpcserv/">http://example.org:8080/rpcserv/</a>).</p>
<p>The above text just touches the surface of XML-RPC. I recommend O&#8217;Reilly&#8217;s &#8220;Programming Web Service with XML-RPC&#8221; for further reading. One may also wish to review the following links:</p>
<p>XML-RPC Home Page\\ XML-RPC for C and C++\\ The Apache XML-RPC Project\\ Expat: The XML Parser\\</p>
</div>
<div class="section" id="an-example-in-php">
<h1>An example in PHP<a class="headerlink" href="#an-example-in-php" title="Permalink to this headline">¶</a></h1>
<p>Here is an example on how to insert a new partner using PHP. This example makes use the phpxmlrpc library, available on sourceforge.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?</span>

    <span class="k">include</span><span class="p">(</span><span class="s1">&#39;xmlrpc.inc&#39;</span><span class="p">);</span>

    <span class="nv">$arrayVal</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;name&#39;</span><span class="o">=&gt;</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="s1">&#39;Fabien Pinckaers&#39;</span><span class="p">,</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="p">,</span>
    <span class="s1">&#39;vat&#39;</span><span class="o">=&gt;</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="s1">&#39;BE477472701&#39;</span> <span class="p">,</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
    <span class="p">);</span>

    <span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">xmlrpc_client</span><span class="p">(</span><span class="s2">&quot;http://localhost:8069/xmlrpc/object&quot;</span><span class="p">);</span>

    <span class="nv">$msg</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">xmlrpcmsg</span><span class="p">(</span><span class="s1">&#39;execute&#39;</span><span class="p">);</span>
    <span class="nv">$msg</span><span class="o">-&gt;</span><span class="na">addParam</span><span class="p">(</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="s2">&quot;dbname&quot;</span><span class="p">,</span> <span class="s2">&quot;string&quot;</span><span class="p">));</span>
    <span class="nv">$msg</span><span class="o">-&gt;</span><span class="na">addParam</span><span class="p">(</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;int&quot;</span><span class="p">));</span>
    <span class="nv">$msg</span><span class="o">-&gt;</span><span class="na">addParam</span><span class="p">(</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="s2">&quot;demo&quot;</span><span class="p">,</span> <span class="s2">&quot;string&quot;</span><span class="p">));</span>
    <span class="nv">$msg</span><span class="o">-&gt;</span><span class="na">addParam</span><span class="p">(</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="s2">&quot;res.partner&quot;</span><span class="p">,</span> <span class="s2">&quot;string&quot;</span><span class="p">));</span>
    <span class="nv">$msg</span><span class="o">-&gt;</span><span class="na">addParam</span><span class="p">(</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="s2">&quot;create&quot;</span><span class="p">,</span> <span class="s2">&quot;string&quot;</span><span class="p">));</span>
    <span class="nv">$msg</span><span class="o">-&gt;</span><span class="na">addParam</span><span class="p">(</span><span class="k">new</span> <span class="nx">xmlrpcval</span><span class="p">(</span><span class="nv">$arrayVal</span><span class="p">,</span> <span class="s2">&quot;struct&quot;</span><span class="p">));</span>

    <span class="nv">$resp</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">(</span><span class="nv">$msg</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nv">$resp</span><span class="o">-&gt;</span><span class="na">faultCode</span><span class="p">())</span>

        <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span><span class="o">.</span><span class="nv">$resp</span><span class="o">-&gt;</span><span class="na">faultString</span><span class="p">();</span>

    <span class="k">else</span>

        <span class="k">echo</span> <span class="s1">&#39;Partner &#39;</span><span class="o">.</span><span class="nv">$resp</span><span class="o">-&gt;</span><span class="na">value</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">scalarval</span><span class="p">()</span><span class="o">.</span><span class="s1">&#39; created !&#39;</span><span class="p">;</span>

<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="an-example-in-python">
<h1>An example in Python<a class="headerlink" href="#an-example-in-python" title="Permalink to this headline">¶</a></h1>
<p>Example of creation of a partner and his address.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">xmlrpclib</span>

<span class="n">sock</span> <span class="o">=</span> <span class="n">xmlrpclib</span><span class="o">.</span><span class="n">ServerProxy</span><span class="p">(</span><span class="s">&#39;http://localhost:8069/xmlrpc/object&#39;</span><span class="p">)</span>
<span class="n">uid</span> <span class="o">=</span> <span class="mf">1</span>
<span class="n">pwd</span> <span class="o">=</span> <span class="s">&#39;demo&#39;</span>

<span class="n">partner</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;Monsieur&#39;</span><span class="p">,</span>
    <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;Fabien Pinckaers&#39;</span><span class="p">,</span>
    <span class="s">&#39;lang&#39;</span><span class="p">:</span> <span class="s">&#39;fr&#39;</span><span class="p">,</span>
    <span class="s">&#39;active&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">partner_id</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="s">&#39;res.partner&#39;</span><span class="p">,</span> <span class="s">&#39;create&#39;</span><span class="p">,</span> <span class="n">partner</span><span class="p">)</span>

<span class="n">address</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;partner_id&#39;</span><span class="p">:</span> <span class="n">partner_id</span><span class="p">,</span>
    <span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;default&#39;</span><span class="p">,</span>
    <span class="s">&#39;street&#39;</span><span class="p">:</span> <span class="s">&#39;Rue du vieux chateau, 21&#39;</span><span class="p">,</span>
    <span class="s">&#39;zip&#39;</span><span class="p">:</span> <span class="s">&#39;1457&#39;</span><span class="p">,</span>
    <span class="s">&#39;city&#39;</span><span class="p">:</span> <span class="s">&#39;Walhain&#39;</span><span class="p">,</span>
    <span class="s">&#39;phone&#39;</span><span class="p">:</span> <span class="s">&#39;(+32)10.68.94.39&#39;</span><span class="p">,</span>
    <span class="s">&#39;fax&#39;</span><span class="p">:</span> <span class="s">&#39;(+32)10.68.94.39&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="s">&#39;res.partner.address&#39;</span><span class="p">,</span> <span class="s">&#39;create&#39;</span><span class="p">,</span> <span class="n">address</span><span class="p">)</span>
</pre></div>
</div>
<p>To get the UID of a user, you can use the following script:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sock</span> <span class="o">=</span> <span class="n">xmlrpclib</span><span class="o">.</span><span class="n">ServerProxy</span><span class="p">(</span><span class="s">&#39;http://localhost:8069/xmlrpc/common&#39;</span><span class="p">)</span>
<span class="n">UID</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s">&#39;terp3&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>CRUD example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">:The login function is under</span>
<span class="sd">::    http://localhost:8069/xmlrpc/common</span>
<span class="sd">:For object retrieval use:</span>
<span class="sd">::    http://localhost:8069/xmlrpc/object</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">xmlrpclib</span>

<span class="n">user</span> <span class="o">=</span> <span class="s">&#39;admin&#39;</span>
<span class="n">pwd</span> <span class="o">=</span> <span class="s">&#39;admin&#39;</span>
<span class="n">dbname</span> <span class="o">=</span> <span class="s">&#39;terp3&#39;</span>
<span class="n">model</span> <span class="o">=</span> <span class="s">&#39;res.partner&#39;</span>

<span class="n">sock</span> <span class="o">=</span> <span class="n">xmlrpclib</span><span class="o">.</span><span class="n">ServerProxy</span><span class="p">(</span><span class="s">&#39;http://localhost:8069/xmlrpc/common&#39;</span><span class="p">)</span>
<span class="n">uid</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">dbname</span> <span class="p">,</span><span class="n">user</span> <span class="p">,</span><span class="n">pwd</span><span class="p">)</span>

<span class="n">sock</span> <span class="o">=</span> <span class="n">xmlrpclib</span><span class="o">.</span><span class="n">ServerProxy</span><span class="p">(</span><span class="s">&#39;http://localhost:8069/xmlrpc/object&#39;</span><span class="p">)</span>

<span class="c"># CREATE A PARTNER</span>
<span class="n">partner_data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;name&#39;</span><span class="p">:</span><span class="s">&#39;Tiny&#39;</span><span class="p">,</span> <span class="s">&#39;active&#39;</span><span class="p">:</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;vat&#39;</span><span class="p">:</span><span class="s">&#39;ZZZZZ&#39;</span><span class="p">}</span>
<span class="n">partner_id</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="s">&#39;create&#39;</span><span class="p">,</span> <span class="n">partner_data</span><span class="p">)</span>

<span class="c"># The relation between res.partner and res.partner.category is of type many2many</span>
<span class="c"># To add  categories to a partner use the following format:</span>
<span class="n">partner_data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;name&#39;</span><span class="p">:</span><span class="s">&#39;Provider2&#39;</span><span class="p">,</span> <span class="s">&#39;category_id&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="mf">6</span><span class="p">,</span><span class="mf">0</span><span class="p">,[</span><span class="mf">3</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">1</span><span class="p">])]}</span>
<span class="c"># Where [3, 2, 1] are id fields of lines in res.partner.category</span>

<span class="c"># SEARCH PARTNERS</span>
<span class="n">args</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;vat&#39;</span><span class="p">,</span> <span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="s">&#39;ZZZZZ&#39;</span><span class="p">),]</span>
<span class="n">ids</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="s">&#39;search&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>

<span class="c"># READ PARTNER DATA</span>
<span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="s">&#39;active&#39;</span><span class="p">,</span> <span class="s">&#39;vat&#39;</span><span class="p">,</span> <span class="s">&#39;ref&#39;</span><span class="p">]</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="s">&#39;read&#39;</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">fields</span><span class="p">)</span>
<span class="k">print</span> <span class="n">results</span>

<span class="c"># EDIT PARTNER DATA</span>
<span class="n">values</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;vat&#39;</span><span class="p">:</span><span class="s">&#39;ZZ1ZZ&#39;</span><span class="p">}</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="s">&#39;write&#39;</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>

<span class="c"># DELETE PARTNER DATA</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="s">&#39;unlink&#39;</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">PRINT example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="n">printsock</span> <span class="o">=</span> <span class="n">xmlrpclib</span><span class="o">.</span><span class="n">ServerProxy</span><span class="p">(</span><span class="s">&#39;http://server:8069/xmlrpc/report&#39;</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="s">&#39;account.invoice&#39;</span>
<span class="n">id_report</span> <span class="o">=</span> <span class="n">printsock</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;model&#39;</span><span class="p">:</span> <span class="n">model</span><span class="p">,</span> <span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="n">ids</span><span class="p">[</span><span class="mf">0</span><span class="p">],</span> <span class="s">&#39;report_type&#39;</span><span class="p">:</span><span class="s">&#39;pdf&#39;</span><span class="p">})</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">5</span><span class="p">)</span>
<span class="n">state</span> <span class="o">=</span> <span class="bp">False</span>
<span class="n">attempt</span> <span class="o">=</span> <span class="mf">0</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">state</span><span class="p">:</span>
    <span class="n">report</span> <span class="o">=</span> <span class="n">printsock</span><span class="o">.</span><span class="n">report_get</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">id_report</span><span class="p">)</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">report</span><span class="p">[</span><span class="s">&#39;state&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">state</span><span class="p">:</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
        <span class="n">attempt</span> <span class="o">+=</span> <span class="mf">1</span>
    <span class="k">if</span> <span class="n">attempt</span><span class="o">&gt;</span><span class="mf">200</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;Printing aborted, too long delay !&#39;</span>

    <span class="n">string_pdf</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">decodestring</span><span class="p">(</span><span class="n">report</span><span class="p">[</span><span class="s">&#39;result&#39;</span><span class="p">])</span>
    <span class="n">file_pdf</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;/tmp/file.pdf&#39;</span><span class="p">,</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
    <span class="n">file_pdf</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">string_pdf</span><span class="p">)</span>
    <span class="n">file_pdf</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>


            <br />
            <div class="js-kit-comments" permalink=""></div>
            <script src="http://js-kit.com/comments.js"></script>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">Introduction</a><ul>
<li><a class="reference external" href="#how-to-load-data">How to load data ?</a></li>
<li><a class="reference external" href="#how-to-backup-restore-a-postgresql-database">How to backup/restore a Postgresql database?</a></li>
<li><a class="reference external" href="#the-objects-methods">The objects methods</a></li>
</ul>
</li>
<li><a class="reference external" href="#webservicesxmlrpc">WebservicesXMLRPC</a></li>
<li><a class="reference external" href="#an-example-in-php">An example in PHP</a></li>
<li><a class="reference external" href="#an-example-in-python">An example in Python</a></li>
</ul>

            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/developer/17_Web_services/index.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
<div id="searchbox">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<h3>Open ERP Books</h3><br />
<table cellpading="10px" cellspacing="10px" style="border: 1px solid #98DBCC;" align="center" bgcolor="#FFFFFF">
  <tr>
   <td align="center">
   <span style="text-align:center;">
<iframe src="http://rcm-fr.amazon.fr/e/cm?t=fabsblo-21&o=8&p=8&l=as1&asins=2212122616&fc1=000000&IS2=
1&lt1=_blank&lc1=0000FF&bc1=FFFFFF&bg1=FFFFFF&f=ifr&npa=1" style="width:120px;height:240px;text-align:center;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</span>
   </td>
  </tr>
  <tr> 
  <td align="center">
<a href="http://www.openerp.com/buy.html?page=shop.product_details&amp;flypage=openerp.tpl&amp;product_id=36&amp;category_id=8" title="Open ERP for Retail and Industrial Management" style="border:none;"><img src="http://www.openerp.com/components/com_virtuemart/shop_image/product/Open_ERP_for_Ret_4a1a9e3e3dec5.png" width="100px" height="134px" style="border:none; text-align:center;"></a>
<p style="font-size:10px;">Retail and Industrial Management, steps towards Sales, Logistics and Manufacturing Integration in the Open Source & Management Collection.</p>
</span>
</td>
</tr>
</table>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             >modules</a> |</li>
 
      </ul>
    </div>


    <div class="related-tiny">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I" class="bottom-nav-links" >index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             accesskey="M" class="bottom-nav-links" >modules</a> |</li>
        <li><a href="../../index.html">Documentation</a> &raquo;</li>
        
      </ul>
    </div>

    <div class="footer">
      &copy; <a href="../../copyright.html">Copyright</a> .
      Last updated on 2009-07-16.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.2.
    </div>
<script type="text/javascript">

var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));

try {
  var pageTracker = _gat._getTracker("UA-7333765-8");
  pageTracker._trackPageview();
} catch(err) {}

</script>

  </body>
</html>