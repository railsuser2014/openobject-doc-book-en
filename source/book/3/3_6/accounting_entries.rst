
Accounting entries
==================

Various methods of creating accounting entries can be used. You've already seen how an invoice creates its own entries, for example.

This section deals, in order, with

* managing bank statements,

* managing cash,

* manual journal entries,

You'll see here how to proceed with entering financial transactions. In Open ERP you use the same form for handling bank statements and for managing cash. The two types of transaction differ only in the journal that's used.

.. index::
   single: Bank statements
.. 

Managing bank statements
------------------------

Open ERP provides a visual tool for managing bank statements that simplifies data entry into accounts. As soon as a statement entry is validated the corresponding accounting entries are automatically generated by Open ERP. This lets non-accounting people to enter financial transactions without fussing about such things as credit, debit and counterparts

Start by entering a statement line. To do that use the menu  *Financial Management > Entries > Statements* . A data entry form for statements then opens.

	.. image::  images/account_statement.png
	
*Data entry form for a bank statement*


The statement reference ( *Name* ) and the  *Date*  are automatically suggested by Open ERP from the preceding statement line. You can configure your own reference by managing sequences in the Administration menu.

You must then select the  *Journal* . Ideally, when you're configuring your company you'd create at least one journal for each bank account and one journal for petty cash in your company. So select the journal corresponding to the bank account whose statement you're handling.

The currency that you're using for the statement line is that of the selected journal. If you're entering statement lines for an account in American dollars (USD) the amounts must be entered in \ ``USD``\  . The currency is automatically converted to the company's main currency when you confirm the entry, using the rates in effect at the date of entry (which means that you'd need valid currency conversion rates to be created first).

The initial balance is completed automatically by Open ERP based on the final balance of the preceding statement. You can modify this value and force another value. This enables you to enter statements in the order of your choice. Also if you've lost a page of your statement you can enter the following ones immediately and you're not forced to wait for a duplicate from the bank.

So, complete the final balance, which corresponds to the last value on the account after all of the statement entries. This amount will be the control for operations before approving the statement.

Then you must enter all the lines on the statement. Each line corresponds to a banking transaction.

Enter the transaction line. When you type the Partner name, Open ERP automatically proposes the corresponding account. The total amount due for the customer or supplier is pre-completed by Open ERP ( *Amount* ). This gives you a simple indication of the effective payment. You must the enter the amount that appears on your statement line: a negative sign for a withdrawal and a positive sign for a cash payment or deposit.

When the payment entry has been made it's possible to reconcile this directly with the accounting entry for the invoices. Press the  *Ctrl*  key on the keyboard (necessary for the web client, though not the GTK client) and then press the  *F1*  key while your cursor is in the  *Reconcile*  field on the payment line.


	.. image::  images/account_statement_reconcile.png
	
*Reconciliation from data entry of the bank statement*

The reconciliation form then appears. To the right you'll find the amount for payment. You must then select the invoices paid by this transaction (Entries). To enable you to reconcile this the amount of payment must correspond exactly with one or several due dates of invoice.

.. tip::   **Method**  *Reconciliation* 

	Other methods of reconciliation are possible: from accounting entries, when saving the payment directly on an invoice, or using the automatic reconciliation tool. But if you can, you should do a reconciliation when you're encoding the payment because that's the time when you have all of the information you need to hand for reconciling the payment with the corresponding invoice

.. tip::   **Attention**  *Partial reconciliation* 

	In Open ERP, only total reconciliation is possible. To enter a partial payment for an invoice, several methods are given you:

	* Don't reconcile that payment amount, just reconcile the entire balance. 

	* Reconcile at once, but make an accounting adjustment in the partner's credit account. In this case the invoice will be marked as paid.

If you see a difference between the payment and the invoices to reconcile, you can note the difference in the second part of the form –  *Write-off* . You must then indicate which account should be used for the adjustment. The main reasons explaining the difference are usually:

* losses and profits,

* exchange differences,

* discounts given for rapid payment.

When the reconciliation is complete, that's to say that the payment is equal to the sum of the due payments and the adjustments then you can close the reconciliation form.

The reconciliation operation is optional – you could very well do it later or not do it at all. It's got two significant effects, however:

* marking that the invoices have been paid,

* preventing the payment and invoice amounts from appearing on customer reminder letters. Unless you've reconciled them the customer will see the invoice and payment amounts on her reminder letter (which won't alter the balance due since they'll just cancel each other out).

Finally, once you have entered the various lines of your bank statement you can validate it. Open ERP then automatically generates the corresponding accounting entries if the balance calculated equals the final balance indicated in the header. The reconciled invoices are marked as paid at that point.

A user with advanced accounting skills can enter accounting entries directly into the bank journal. The resulting account is the same but the operation is more complex because you must know the accounts to use and must have mastered the ideas of credit and debit.

.. index::
   single: Cash Management
.. 

Cash Management
---------------

To manage cash, you use the same form as before. At the start of the day you must indicate the opening amount of cash in the entry (starting balance). Instead of confirming the entry immediately you can let it remain in the Draft state.

All the transactions throughout the day are then entered in this statement. When you close the cash till, generally at the end of the day, you must enter the amount found in the cash till in the field  *Final Balance* . Then confirm the statement to close the day's cash statement and automatically generate the corresponding accounting entries.

.. tip::   **Attention**  *Validating the statement* 

	Accounting entries are only generated when the statement is confirmed. So if the total statement hasn't been approved (that's to say at the end of the day, in the case of petty cash) you shouldn't be surprised if partner payments haven't been deducted from their corresponding account.

Manual entry in a journal
-------------------------

Invoices and statements produce accounting entries in different journals. But you could equally create entries directly in a journal without using the forms to help you. This functionality is often used for various entry transactions.

To do this, use the following menu:  *Financial Management > Entries > Journal Entries* . You can also use the menu  *Open Journals* , which is a shortcut from the journals or periods which already have accounting entries but which haven't yet been closed.

Select the journal and the accounting period. A window opens, enabling you to enter the accounting data in an editable list. You can then enter data from a supplier invoice.

As you'll recall, these entries are usually generated automatically by Open ERP. If you haven't created an invoice you'll have to enter values manually.

Fill these fields manually in this order:

*  *Effective Date* : invoice date,

*  *Move* : leave this empty so that Open ERP can fill it in automatically from the next number in sequence for line validations,

*  *Ref.* : reference from the supplier invoice,

*  *Partner Ref.* : partner concerned,

*  *Account* : account for the purchase line (\ ``Products Purchase``\  ),

*  *Name* : description of the invoice line (Titanium Alloy Radiator),

*  *Credit* : \ ``1196``\  .

Press the Enter key on your keyboard to validate this first line. The next sequence number is assigned to your accounting entry. Your line is then colored red and takes the \ ``Draft``\   state. When a line is in the draft state then it's not yet reflected in the accounts. Open ERP won't validate that line until the balancing entry is made (so the credit amounts must balance the debit amounts for that set of entries).

Open ERP now proposes the balancing accounting line to be filled in. If the account used (in this case account \ ``600``\  ) includes taxes by default in its definition Open ERP automatically proposes taxes associated with the amount entered. At this stage you can modify and validate this second line of the account, or replace it with other information such as a second purchase line.

When you've entered all of the data from your lines, Open ERP automatically proposes counterpart entries to you, based on the credit entries. If you validate it, the accounting entries are all matched together and the lines move from the \ ``Draft``\   state (red) to the \ ``Open``\   state (black).

.. tip::   **Note**  *Completing a balancing entry* 

	When an accounting entry is matched, Open ERP moves it to the open state automatically and prepares to enter the next data.

	If you want to add some other balancing lines you can enter the number of the entry on the new line that you're entering. In this case the whole line stays at Draft until the whole set balances to zero.

Process of reconciliation
-------------------------

The reconciliation operation consists of matching entries in different accounts to indicate that they are related. Generally reconciliation is used for:

* matching invoice entries to payments so that invoices are marked as paid and customers don't get payment reminder letters (reconciliation in a customer account),

* matching deposits and chequewithdrawals with their respective payments,

* matching invoices and credit notes to cancel them out.

A reconciliation must be carried out on a list of accounting entries by an accountant, so that the sum of credits equals the sum of the debits for the matched entries.

Reconciliation in Open ERP can only be carried out in accounts that have been configured as reconcilable (the  *Reconcile*  field).

.. tip::   **Don't confuse**  *Account reconciliation and bank statement reconciliation* 

	It's important not to confuse the reconciliation of accounting entries with bank statement reconciliation. The first consists of linking account entries with each other, while the second consists of verifying that your bank statement corresponds with the entries of that account in your accounting system.

There are different methods of reconciling entries. You've already seen the reconciliation of entries while doing data entry in an account. Automatic and manual reconciliations are described here.

Automatic reconciliation
^^^^^^^^^^^^^^^^^^^^^^^^

For automatic reconciliation, you'll be asking Open ERP to make its own search for entries to reconcile in a series of accounts. It tries to find entries for each partner where the amounts correspond.

Depending on the level of complexity that you choose when you start running the tool, the software could reconcile from two to nine entries at the same time. For example, if you select level 5, Open ERP will reconcile three invoices and two payments if the total amounts correspond.


	.. image::  images/account_reconcile_auto.png

*Form for automatic reconciliation*

To start the reconciliation tool, click  *Financial management > Periodical Processing > Reconciliation > Automatic Reconciliation* .

A form opens, asking you for the following information:

*  *Account to reconcile* : you can select one, several, or all reconcilable accounts,

* the period to take into consideration ( *Start of Period*  /  *End of Period* ),

* the  *Reconciliation Power*  (from \ ``2``\   to \ ``9``\  ),

* information needed for the adjustment (details for the  *Write-Off Move* ).

.. tip::  

	You can reconcile:

	* all the Accounts Receivable – your customer accounts of type Debtor,

	* all the Accounts Payable – your supplier accounts of type Creditor.

The adjustment option enables you to reconcile entries even if their amounts aren't exactly equivalent. For example, Open ERP permits foreign customers whose accounts are in different currencies to have a difference of up to 0.50 units of currency and put the difference in a write-off account.

.. tip::   **Attention**  *Limit of write-off adjustments* 

	You shouldn't make the adjustment limits too large. Companies that introduced substantial automatic write-off adjustments have found that all employee expense reimbursements below the limit were written off automatically!

.. tip::   **Note**  *Default values* 

	If you start the automatic reconciliation tool regularly you should set the default values for each field by pressing the Ctrl key and using the right-click mouse button (when the form is in edit mode using the web client, or just using the GTK client). This means that you won't have to re-type all the fields each time.

Manual reconciliation
^^^^^^^^^^^^^^^^^^^^^

For manual reconciliation, open the entries for reconciling an account through the menu  *Financial Management > Periodical Processing > Reconciliation > Manual Reconciliation* . You can also call up manual reconciliation from any screen that shows accounting entries.

Select entries that you want to reconcile. From the selection, Open ERP indicates the sum of debits and credits for the selected entries. When these are equal you can click the  *Reconcile Entries*  button to reconcile the entries.

	.. note::  *Example Real case of using reconciliation* 

			Suppose that you're entering customer order details. At the moment you ask “what's outstanding on the customer account ?” (that is the list of unpaid invoices and unreconciled payments). To review it from the order form, right-click the mouse button on the Partner field and select the view Receivables and Payables. Open ERP opens a history of unreconciled accounting entries on screen.


	                .. image::  images/account_sample2_entries.png
	                    :scale: 80
	                

			You notice an invoice for 1900 and a payment two weeks later of 1900 with the same reference. You can select the two lines in that view. The total at the bottom of the page shows you that the credit amount equals the debit amount for the selected line. Click Reconcile Entries to reconcile the two lines.

			After this these lines can't be selected and won't appear when the entries are listed again. If there's a difference between the two entries, Open ERP suggests that you make an adjustment. This adjustment is a compensating entry that enables a complete reconciliation. You must therefore specify the journal and the account to be used for the adjustment.

For example, if you want to reconcile the following entries:



.. csv-table:: **Entries for reconciliation**
   :header: "Date","Ref.","Description","Account","Debit","Credit"
   :widths: 12, 5, 15, 5,5,5
   
   "12 May 08","FAC23","Car hire","4010","544.50",""
   "25 May 08","FAC44","Car insurance","4010","100.00",""
   "31 May 08","PAY01","Invoices n° 23, 44","4010","","644.00"
   
On reconciliation, Open ERP shows a difference of 0.50. At this stage you have two possibilities:

* don't reconcile, and the customer receives a request for 0.50,

* reconcile and accept an adjustment of 0.50 that you will take from the P&L account.

Open ERP generates the following account automatically:


.. csv-table:: **Write-off account**
   :header: "Date","Ref.","Description","Account","Debit","Credit"
   :widths: 12, 5, 15, 5,5,5
   
   "Date","Ref.","Description","Account","Debit","Credit"
   "03 Jun 08","AJ001","Adjustment: profits and losses","4010","","0.50"
   "03 Jun 08","AJ001","Adjustment: profits and losses","XXX","0.50",""


The two invoices and the payment will be reconciled in the first adjustment line. The two invoices will then be automatically marked as paid.

.. index::
   single: Payments Order
.. 

Management of payments
======================

Open ERP gives you forms for preparing, validating and executing payment orders. This enables you to manage issues such as:

	#. Payment provided on several due dates.

	#. Automatic payment dates.

	#. Separating payment preparation and payment approval in your company.

	#. Preparing an order during the week containing several payments, then creating a payment file at the end of the week.

	#. Creating a file for electronic payment which can be sent to a bank for execution.

	#. Splitting payments dependent on the balances available in your various bank accounts.

Process for managing payment orders
-----------------------------------

To use the tool for managing payments you must first install the module \ ``account_payment``\  . It's part of the core Open ERP system.

The workflow for managing payment is as follows:


	.. image::  images/account_payment_flow.png
	
*Workflow for handling payments to suppliers*

The system enables you to enter a series of payments to be carried out from your various bank accounts. Once the different payments have been registered you can validate the payment orders. During validation you can modify and approve the the payment orders, sending the order to the bank for electronic funds transfer or just printing chequesas you wish.

For example if you have to pay a supplier's invoice for a large amount you can split the payments amongst several bank accounts according to their available balance. To do this you can prepare several Draft orders and validate them once you're satisfied that the split is correct.

This process can also be regularly scheduled. In some companies, a payment order is kept in Draft state and payments are added to the draft list each day. At the end of the week it's an accountant's job to work on all of the waiting payment orders.

Once the payment order is confirmed there's still a validation step for an accountant to carry out. You could imagine that these orders would be prepared by an accounts clerk, and then approved by a manager to go ahead with payment.

.. tip::   **A step further**  *Payment Workflow* 

	An Open ERP workflow is associated with each payment order. To see a visualization of it you'll have to use the GTK client. Select a payment order and click Plugins > Print workflow from the top menu.

	You can integrate more complex workflow rules to manage payment orders by adapting the workflow. For example, in some companies payments must be approved by a manager under certain cash flow or value limit conditions.

	.. image::  images/account_payment_workflow.png
	
*Payments workflow*

When the accounting manager validates the document, Open ERP generates a banking file with all the payment orders. You can then just send the file over your electronic connection with your bank to execute all your payments.

In small businesses it's usually the same person who enters the payment orders and who validates them. In this case you should just click the two buttons, one after the other, to confirm the payment.

Preparation and execution of orders.
------------------------------------

To enter a payment order, use the menu  *Financial Management > Payment > Payment Orders* .

	.. image::  images/account_payment_order.png
	   :scale: 95
	
*Entering a payment order*

Open ERP then suggests a reference number for your payment order. As usual, you can change the start point for this sequence from the  *Administration*  menu.

You then have to choose a payment mode from the various methods available to your company. These have to be configured when you set the accounting system up using menus  *Financial Management > Configuration > Payment Type*  and  *Financial Management > Configuration > Payment Mode* . Some examples are:

* Cheques

* Bank transfer,

* Visa card on a FORTIS account,

* Petty cash.

Then you must indicate the  *Preferred date*  for payment:

* \ ``Due date``\  : each operation will be effected at the invoice deadline date,

* \ ``Directly``\  : the operations will be effected when the orders are validated,

* \ ``Fixed date``\  : you must specify an effective payment date in the  *Scheduled date if fixed*  field that follows.

The date is particularly important for the preparation of electronic transfers because banking interfaces enable you to select a future execution date for each operation. So to configure your Open ERP most simply you can choose to pay all invoices automatically by their deadline.

You must then select the invoices to pay. They can be manually entered in the field  *Payment Line*  but it's easier to add them automatically. For that, click  *Add payment lines*  and Open ERP will then propose lines with payment deadlines. For each deadline you can see:

* the invoice  *Effective date* ,

* the reference  *Ref.*  and description of the invoice,  *Name* ,

* the deadline for the invoice,

* the amount to be paid in the company's default currency,

* the amount to be paid in the currency of the invoice.

You can then accept the payment proposed by Open ERP or select the entries that you'll pay or not pay on that order. Open ERP gives you all the necessary information to make a payment decision for each line item:

* account,

* supplier's bank account,

* amount that will be paid,

* amount to pay,

* the supplier,

* total amount owed to the supplier,

* due date,

* date of creation.

You can modify the first three fields on each line: the account, the supplier's bank account and the amount that will be paid. This arrangement is very practical because it gives you complete visibility of all the company's trade payables. You can pay only a part of an invoice, for example, and in preparing your next payment order Open ERP automatically suggests payment of the remainder owed.

When the payment has been prepared correctly, click  *Confirm* . The payment then changes to the \ ``Open``\   state and a new button appears that can be used to start the payment process. Depending on the chosen payment method, Open ERP provides a file containing all of the payment orders. You can send this to the bank to make the payment transfers.

In future versions of Open ERP it's expected that the system will be able to prepare and print cheques.



.. Copyright © Open Object Press. All rights reserved.

.. You may take electronic copy of this publication and distribute it if you don't
.. change the content. You can also print a copy to be read by yourself only.

.. We have contracts with different publishers in different countries to sell and
.. distribute paper or electronic based versions of this book (translated or not)
.. in bookstores. This helps to distribute and promote the Open ERP product. It
.. also helps us to create incentives to pay contributors and authors using author
.. rights of these sales.

.. Due to this, grants to translate, modify or sell this book are strictly
.. forbidden, unless Tiny SPRL (representing Open Object Presses) gives you a
.. written authorisation for this.

.. Many of the designations used by manufacturers and suppliers to distinguish their
.. products are claimed as trademarks. Where those designations appear in this book,
.. and Open ERP Press was aware of a trademark claim, the designations have been
.. printed in initial capitals.

.. While every precaution has been taken in the preparation of this book, the publisher
.. and the authors assume no responsibility for errors or omissions, or for damages
.. resulting from the use of the information contained herein.

.. Published by Open ERP Press, Grand Rosière, Belgium

